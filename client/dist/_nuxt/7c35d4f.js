(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{497:function(e,t,n){var content=n(498);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(22).default)("63c9496b",content,!0,{sourceMap:!1})},498:function(e,t,n){var r=n(21)(!1);r.push([e.i,'.theme--light.v-snack__wrapper{color:rgba(0,0,0,.87)}.theme--dark.v-snack__wrapper{color:#fff}.v-sheet.v-snack__wrapper{border-radius:4px}.v-sheet.v-snack__wrapper:not(.v-sheet--outlined){box-shadow:0 3px 5px -1px rgba(0,0,0,.2),0 6px 10px 0 rgba(0,0,0,.14),0 1px 18px 0 rgba(0,0,0,.12)}.v-sheet.v-snack__wrapper.v-sheet--shaped{border-radius:24px 4px}.v-snack{bottom:0;display:flex;font-size:.875rem;justify-content:center;left:0;pointer-events:none;right:0;top:0;width:100%}.v-snack:not(.v-snack--absolute){height:100vh;position:fixed;z-index:1000}.v-snack:not(.v-snack--centered):not(.v-snack--top){align-items:flex-end}.v-snack__wrapper{align-items:center;border-color:currentColor!important;display:flex;margin:8px;max-width:672px;min-height:48px;min-width:344px;padding:0;pointer-events:auto;position:relative;transition-duration:.15s;transition-property:opacity,transform;transition-timing-function:cubic-bezier(0,0,.2,1);z-index:1}.v-snack__wrapper.theme--dark{background-color:#333;color:hsla(0,0%,100%,.87)}.v-snack__content{flex-grow:1;font-size:.875rem;font-weight:400;letter-spacing:.0178571429em;line-height:1.25rem;margin-right:auto;padding:14px 16px;text-align:left;text-align:initial}.v-snack__action{align-items:center;align-self:center;display:flex}.v-snack__action .v-ripple__container{display:none}.v-application--is-ltr .v-snack__action{margin-right:8px}.v-application--is-rtl .v-snack__action{margin-left:8px}.v-snack__action>.v-snack__btn.v-btn{padding:0 8px}.v-snack__btn{margin:0;min-width:auto}.v-snack--absolute{height:100%;position:absolute;z-index:1}.v-snack--centered{align-items:center}.v-snack--left{justify-content:flex-start;right:auto}.v-snack--multi-line .v-snack__wrapper{min-height:68px}.v-snack--right{justify-content:flex-end;left:auto}.v-snack:not(.v-snack--has-background) .v-snack__wrapper{box-shadow:none}.v-snack--bottom{top:auto}.v-snack--text .v-snack__wrapper:before{background-color:currentColor;border-radius:inherit;bottom:0;content:"";left:0;opacity:.12;pointer-events:none;position:absolute;right:0;top:0;z-index:-1}.v-snack--top{align-items:flex-start;bottom:auto}.v-snack--vertical .v-snack__wrapper{flex-direction:column}.v-snack--vertical .v-snack__wrapper .v-snack__action{align-self:flex-end;margin-bottom:8px}.v-snack-transition-enter.v-snack__wrapper{transform:scale(.8)}.v-snack-transition-enter.v-snack__wrapper,.v-snack-transition-leave-to.v-snack__wrapper{opacity:0}',""]),e.exports=r},511:function(e,t,n){"use strict";n(10),n(12),n(14),n(15);var r=n(2),o=(n(4),n(27),n(13),n(24),n(65),n(482),n(46),n(483),n(484),n(485),n(486),n(487),n(488),n(489),n(490),n(491),n(492),n(493),n(494),n(495),n(57),n(45),n(11),n(86),n(496),n(1)),c=n(115),l=n(0);function h(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function d(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?h(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):h(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var v=["sm","md","lg","xl"],m=v.reduce((function(e,t){return e[t]={type:[Boolean,String,Number],default:!1},e}),{}),f=v.reduce((function(e,t){return e["offset"+Object(l.x)(t)]={type:[String,Number],default:null},e}),{}),_=v.reduce((function(e,t){return e["order"+Object(l.x)(t)]={type:[String,Number],default:null},e}),{}),y={col:Object.keys(m),offset:Object.keys(f),order:Object.keys(_)};function w(e,t,n){var r=e;if(null!=n&&!1!==n){if(t){var o=t.replace(e,"");r+="-".concat(o)}return"col"!==e||""!==n&&!0!==n?(r+="-".concat(n)).toLowerCase():r.toLowerCase()}}var k=new Map;t.a=o.a.extend({name:"v-col",functional:!0,props:d(d(d(d({cols:{type:[Boolean,String,Number],default:!1}},m),{},{offset:{type:[String,Number],default:null}},f),{},{order:{type:[String,Number],default:null}},_),{},{alignSelf:{type:String,default:null,validator:function(e){return["auto","start","end","center","baseline","stretch"].includes(e)}},tag:{type:String,default:"div"}}),render:function(e,t){var n=t.props,data=t.data,o=t.children,l=(t.parent,"");for(var h in n)l+=String(n[h]);var d=k.get(l);return d||function(){var e,t;for(t in d=[],y)y[t].forEach((function(e){var r=n[e],o=w(t,e,r);o&&d.push(o)}));var o=d.some((function(e){return e.startsWith("col-")}));d.push((e={col:!o||!n.cols},Object(r.a)(e,"col-".concat(n.cols),n.cols),Object(r.a)(e,"offset-".concat(n.offset),n.offset),Object(r.a)(e,"order-".concat(n.order),n.order),Object(r.a)(e,"align-self-".concat(n.alignSelf),n.alignSelf),e)),k.set(l,d)}(),e(n.tag,Object(c.a)(data,{class:d}),o)}})},516:function(e,t,n){"use strict";var r=n(2),o=(n(27),n(45),n(58),n(497),n(75)),c=n(38),l=n(25),h=n(59),d=n(95),v=n(8),m=n(0),f=n(7);t.a=Object(v.a)(o.a,c.a,h.a,Object(d.b)(["absolute","bottom","left","right","top"])).extend({name:"v-snackbar",props:{app:Boolean,centered:Boolean,contentClass:{type:String,default:""},multiLine:Boolean,text:Boolean,timeout:{type:[Number,String],default:5e3},transition:{type:[Boolean,String],default:"v-snack-transition",validator:function(e){return"string"==typeof e||!1===e}},vertical:Boolean},data:function(){return{activeTimeout:-1}},computed:{classes:function(){return{"v-snack--absolute":this.absolute,"v-snack--active":this.isActive,"v-snack--bottom":this.bottom||!this.top,"v-snack--centered":this.centered,"v-snack--has-background":this.hasBackground,"v-snack--left":this.left,"v-snack--multi-line":this.multiLine&&!this.vertical,"v-snack--right":this.right,"v-snack--text":this.text,"v-snack--top":this.top,"v-snack--vertical":this.vertical}},hasBackground:function(){return!this.text&&!this.outlined},isDark:function(){return this.hasBackground?!this.light:l.a.options.computed.isDark.call(this)},styles:function(){if(this.absolute||!this.app)return{};var e=this.$vuetify.application,t=e.bar,n=e.bottom,footer=e.footer,r=e.insetFooter,o=e.left,c=e.right,l=e.top;return{paddingBottom:Object(m.g)(n+footer+r),paddingLeft:Object(m.g)(o),paddingRight:Object(m.g)(c),paddingTop:Object(m.g)(t+l)}}},watch:{isActive:"setTimeout",timeout:"setTimeout"},mounted:function(){this.isActive&&this.setTimeout()},created:function(){this.$attrs.hasOwnProperty("auto-height")&&Object(f.e)("auto-height",this),0==this.timeout&&Object(f.d)('timeout="0"',"-1",this)},methods:{genActions:function(){return this.$createElement("div",{staticClass:"v-snack__action "},[Object(m.o)(this,"action",{attrs:{class:"v-snack__btn"}})])},genContent:function(){return this.$createElement("div",{staticClass:"v-snack__content",class:Object(r.a)({},this.contentClass,!0),attrs:{role:"status","aria-live":"polite"}},[Object(m.o)(this)])},genWrapper:function(){var e=this,data=(this.hasBackground?this.setBackgroundColor:this.setTextColor)(this.color,{staticClass:"v-snack__wrapper",class:o.a.options.computed.classes.call(this),style:o.a.options.computed.styles.call(this),directives:[{name:"show",value:this.isActive}],on:{pointerenter:function(){return window.clearTimeout(e.activeTimeout)},pointerleave:this.setTimeout}});return this.$createElement("div",data,[this.genContent(),this.genActions()])},genTransition:function(){return this.$createElement("transition",{props:{name:this.transition}},[this.genWrapper()])},setTimeout:function(){var e=this;window.clearTimeout(this.activeTimeout);var t=Number(this.timeout);this.isActive&&![0,-1].includes(t)&&(this.activeTimeout=window.setTimeout((function(){e.isActive=!1}),t))}},render:function(e){return e("div",{staticClass:"v-snack",class:this.classes,style:this.styles},[!1!==this.transition?this.genTransition():this.genWrapper()])}})},535:function(e,t,n){"use strict";class r{constructor(a,b,e,t,n){this._legacyCanvasSize=r.DEFAULT_CANVAS_SIZE,this._preferredCamera="environment",this._maxScansPerSecond=25,this._lastScanTimestamp=-1,this._destroyed=this._flashOn=this._paused=this._active=!1,this.$video=a,this.$canvas=document.createElement("canvas"),e&&"object"==typeof e?this._onDecode=b:(e||t||n?console.warn("You're using a deprecated version of the QrScanner constructor which will be removed in the future"):console.warn("Note that the type of the scan result passed to onDecode will change in the future. To already switch to the new api today, you can pass returnDetailedScanResult: true."),this._legacyOnDecode=b),b="object"==typeof e?e:{},this._onDecodeError=b.onDecodeError||("function"==typeof e?e:this._onDecodeError),this._calculateScanRegion=b.calculateScanRegion||("function"==typeof t?t:this._calculateScanRegion),this._preferredCamera=b.preferredCamera||n||this._preferredCamera,this._legacyCanvasSize="number"==typeof e?e:"number"==typeof t?t:this._legacyCanvasSize,this._maxScansPerSecond=b.maxScansPerSecond||this._maxScansPerSecond,this._onPlay=this._onPlay.bind(this),this._onLoadedMetaData=this._onLoadedMetaData.bind(this),this._onVisibilityChange=this._onVisibilityChange.bind(this),this._updateOverlay=this._updateOverlay.bind(this),a.disablePictureInPicture=!0,a.playsInline=!0,a.muted=!0;let o=!1;if(a.hidden&&(a.hidden=!1,o=!0),document.body.contains(a)||(document.body.appendChild(a),o=!0),e=a.parentElement,b.highlightScanRegion||b.highlightCodeOutline){if(t=!!b.overlay,this.$overlay=b.overlay||document.createElement("div"),(n=this.$overlay.style).position="absolute",n.display="none",n.pointerEvents="none",this.$overlay.classList.add("scan-region-highlight"),!t&&b.highlightScanRegion){this.$overlay.innerHTML='<svg class="scan-region-highlight-svg" viewBox="0 0 238 238" preserveAspectRatio="none" style="position:absolute;width:100%;height:100%;left:0;top:0;fill:none;stroke:#e9b213;stroke-width:4;stroke-linecap:round;stroke-linejoin:round"><path d="M31 2H10a8 8 0 0 0-8 8v21M207 2h21a8 8 0 0 1 8 8v21m0 176v21a8 8 0 0 1-8 8h-21m-176 0H10a8 8 0 0 1-8-8v-21"/></svg>';try{this.$overlay.firstElementChild.animate({transform:["scale(.98)","scale(1.01)"]},{duration:400,iterations:1/0,direction:"alternate",easing:"ease-in-out"})}catch(e){}e.insertBefore(this.$overlay,this.$video.nextSibling)}b.highlightCodeOutline&&(this.$overlay.insertAdjacentHTML("beforeend",'<svg class="code-outline-highlight" preserveAspectRatio="none" style="display:none;width:100%;height:100%;fill:none;stroke:#e9b213;stroke-width:5;stroke-dasharray:25;stroke-linecap:round;stroke-linejoin:round"><polygon/></svg>'),this.$codeOutlineHighlight=this.$overlay.lastElementChild)}this._scanRegion=this._calculateScanRegion(a),requestAnimationFrame((()=>{let e=window.getComputedStyle(a);"none"===e.display&&(a.style.setProperty("display","block","important"),o=!0),"visible"!==e.visibility&&(a.style.setProperty("visibility","visible","important"),o=!0),o&&(console.warn("QrScanner has overwritten the video hiding style to avoid Safari stopping the playback."),a.style.opacity="0",a.style.width="0",a.style.height="0",this.$overlay&&this.$overlay.parentElement&&this.$overlay.parentElement.removeChild(this.$overlay),delete this.$overlay,delete this.$codeOutlineHighlight),this.$overlay&&this._updateOverlay()})),a.addEventListener("play",this._onPlay),a.addEventListener("loadedmetadata",this._onLoadedMetaData),document.addEventListener("visibilitychange",this._onVisibilityChange),window.addEventListener("resize",this._updateOverlay),this._qrEnginePromise=r.createQrEngine()}static set WORKER_PATH(a){console.warn("Setting QrScanner.WORKER_PATH is not required and not supported anymore. Have a look at the README for new setup instructions.")}static async hasCamera(){try{return!!(await r.listCameras(!1)).length}catch(e){return!1}}static async listCameras(a=!1){if(!navigator.mediaDevices)return[];let e,b=async()=>(await navigator.mediaDevices.enumerateDevices()).filter((e=>"videoinput"===e.kind));try{a&&(await b()).every((e=>!e.label))&&(e=await navigator.mediaDevices.getUserMedia({audio:!1,video:!0}))}catch(e){}try{return(await b()).map(((e,t)=>({id:e.deviceId,label:e.label||(0===t?"Default Camera":`Camera ${t+1}`)})))}finally{e&&(console.warn("Call listCameras after successfully starting a QR scanner to avoid creating a temporary video stream"),r._stopVideoStream(e))}}async hasFlash(){let a;try{if(this.$video.srcObject){if(!(this.$video.srcObject instanceof MediaStream))return!1;a=this.$video.srcObject}else a=(await this._getCameraStream()).stream;return"torch"in a.getVideoTracks()[0].getSettings()}catch(e){return!1}finally{a&&a!==this.$video.srcObject&&(console.warn("Call hasFlash after successfully starting the scanner to avoid creating a temporary video stream"),r._stopVideoStream(a))}}isFlashOn(){return this._flashOn}async toggleFlash(){this._flashOn?await this.turnFlashOff():await this.turnFlashOn()}async turnFlashOn(){if(!this._flashOn&&!this._destroyed&&(this._flashOn=!0,this._active&&!this._paused))try{if(!await this.hasFlash())throw"No flash available";await this.$video.srcObject.getVideoTracks()[0].applyConstraints({advanced:[{torch:!0}]})}catch(e){throw this._flashOn=!1,e}}async turnFlashOff(){this._flashOn&&(this._flashOn=!1,await this._restartVideoStream())}destroy(){this.$video.removeEventListener("loadedmetadata",this._onLoadedMetaData),this.$video.removeEventListener("play",this._onPlay),document.removeEventListener("visibilitychange",this._onVisibilityChange),window.removeEventListener("resize",this._updateOverlay),this._destroyed=!0,this._flashOn=!1,this.stop(),r._postWorkerMessage(this._qrEnginePromise,"close")}async start(){if(this._destroyed)throw Error("The QR scanner can not be started as it had been destroyed.");if((!this._active||this._paused)&&("https:"!==window.location.protocol&&console.warn("The camera stream is only accessible if the page is transferred via https."),this._active=!0,!document.hidden))if(this._paused=!1,this.$video.srcObject)await this.$video.play();else try{let{stream:a,facingMode:b}=await this._getCameraStream();!this._active||this._paused?r._stopVideoStream(a):(this._setVideoMirror(b),this.$video.srcObject=a,await this.$video.play(),this._flashOn&&(this._flashOn=!1,this.turnFlashOn().catch((()=>{}))))}catch(e){if(!this._paused)throw this._active=!1,e}}stop(){this.pause(),this._active=!1}async pause(a=!1){if(this._paused=!0,!this._active)return!0;this.$video.pause(),this.$overlay&&(this.$overlay.style.display="none");let b=()=>{this.$video.srcObject instanceof MediaStream&&(r._stopVideoStream(this.$video.srcObject),this.$video.srcObject=null)};return a?(b(),!0):(await new Promise((e=>setTimeout(e,300))),!!this._paused&&(b(),!0))}async setCamera(a){a!==this._preferredCamera&&(this._preferredCamera=a,await this._restartVideoStream())}static async scanImage(a,b,e,t,n=!1,o=!1){let c,l=!1;b&&("scanRegion"in b||"qrEngine"in b||"canvas"in b||"disallowCanvasResizing"in b||"alsoTryWithoutScanRegion"in b||"returnDetailedScanResult"in b)?(c=b.scanRegion,e=b.qrEngine,t=b.canvas,n=b.disallowCanvasResizing||!1,o=b.alsoTryWithoutScanRegion||!1,l=!0):b||e||t||n||o?console.warn("You're using a deprecated api for scanImage which will be removed in the future."):console.warn("Note that the return type of scanImage will change in the future. To already switch to the new api today, you can pass returnDetailedScanResult: true."),b=!!e;try{let p,h,q;if([e,p]=await Promise.all([e||r.createQrEngine(),r._loadImage(a)]),[t,h]=r._drawToCanvas(p,c,t,n),e instanceof Worker){let g=e;b||r._postWorkerMessageSync(g,"inversionMode","both"),q=await new Promise(((e,n)=>{let o,u,l,d=-1;u=t=>{t.data.id===d&&(g.removeEventListener("message",u),g.removeEventListener("error",l),clearTimeout(o),null!==t.data.data?e({data:t.data.data,cornerPoints:r._convertPoints(t.data.cornerPoints,c)}):n(r.NO_QR_CODE_FOUND))},l=e=>{g.removeEventListener("message",u),g.removeEventListener("error",l),clearTimeout(o),n("Scanner error: "+(e?e.message||e:"Unknown Error"))},g.addEventListener("message",u),g.addEventListener("error",l),o=setTimeout((()=>l("timeout")),1e4);let v=h.getImageData(0,0,t.width,t.height);d=r._postWorkerMessageSync(g,"decode",v,[v.data.buffer])}))}else q=await Promise.race([new Promise(((g,e)=>window.setTimeout((()=>e("Scanner error: timeout")),1e4))),(async()=>{try{var[g]=await e.detect(t);if(!g)throw r.NO_QR_CODE_FOUND;return{data:g.rawValue,cornerPoints:r._convertPoints(g.cornerPoints,c)}}catch(e){if(g=e.message||e,/not implemented|service unavailable/.test(g))return r._disableBarcodeDetector=!0,r.scanImage(a,{scanRegion:c,canvas:t,disallowCanvasResizing:n,alsoTryWithoutScanRegion:o});throw`Scanner error: ${g}`}})()]);return l?q:q.data}catch(d){if(!c||!o)throw d;let h=await r.scanImage(a,{qrEngine:e,canvas:t,disallowCanvasResizing:n});return l?h:h.data}finally{b||r._postWorkerMessage(e,"close")}}setGrayscaleWeights(a,b,e,t=!0){r._postWorkerMessage(this._qrEnginePromise,"grayscaleWeights",{red:a,green:b,blue:e,useIntegerApproximation:t})}setInversionMode(a){r._postWorkerMessage(this._qrEnginePromise,"inversionMode",a)}static async createQrEngine(a){return a&&console.warn("Specifying a worker path is not required and not supported anymore."),!r._disableBarcodeDetector&&"BarcodeDetector"in window&&BarcodeDetector.getSupportedFormats&&(await BarcodeDetector.getSupportedFormats()).includes("qr_code")?new BarcodeDetector({formats:["qr_code"]}):n.e(24).then(n.bind(null,623)).then((b=>b.createWorker()))}_onPlay(){this._scanRegion=this._calculateScanRegion(this.$video),this._updateOverlay(),this.$overlay&&(this.$overlay.style.display=""),this._scanFrame()}_onLoadedMetaData(){this._scanRegion=this._calculateScanRegion(this.$video),this._updateOverlay()}_onVisibilityChange(){document.hidden?this.pause():this._active&&this.start()}_calculateScanRegion(a){let b=Math.round(2/3*Math.min(a.videoWidth,a.videoHeight));return{x:Math.round((a.videoWidth-b)/2),y:Math.round((a.videoHeight-b)/2),width:b,height:b,downScaledWidth:this._legacyCanvasSize,downScaledHeight:this._legacyCanvasSize}}_updateOverlay(){requestAnimationFrame((()=>{if(this.$overlay){var a=this.$video,b=a.videoWidth,e=a.videoHeight,t=a.offsetWidth,n=a.offsetHeight,r=a.offsetLeft,o=a.offsetTop,c=window.getComputedStyle(a),p=c.objectFit,l=b/e,q=t/n;switch(p){case"none":var g=b,h=e;break;case"fill":g=t,h=n;break;default:("cover"===p?l>q:l<q)?g=(h=n)*l:h=(g=t)/l,"scale-down"===p&&(g=Math.min(g,b),h=Math.min(h,e))}var[d,v]=c.objectPosition.split(" ").map(((e,r)=>{const o=parseFloat(e);return e.endsWith("%")?(r?n-h:t-g)*o/100:o}));c=this._scanRegion.width||b,q=this._scanRegion.height||e,p=this._scanRegion.x||0;var u=this._scanRegion.y||0;(l=this.$overlay.style).width=c/b*g+"px",l.height=q/e*h+"px",l.top=`${o+v+u/e*h}px`,e=/scaleX\(-1\)/.test(a.style.transform),l.left=`${r+(e?t-d-g:d)+(e?b-p-c:p)/b*g}px`,l.transform=a.style.transform}}))}static _convertPoints(a,b){if(!b)return a;let e=b.x||0,t=b.y||0,n=b.width&&b.downScaledWidth?b.width/b.downScaledWidth:1;b=b.height&&b.downScaledHeight?b.height/b.downScaledHeight:1;for(let r of a)r.x=r.x*n+e,r.y=r.y*b+t;return a}_scanFrame(){!this._active||this.$video.paused||this.$video.ended||("requestVideoFrameCallback"in this.$video?this.$video.requestVideoFrameCallback.bind(this.$video):requestAnimationFrame)((async()=>{if(!(1>=this.$video.readyState)){var a=Date.now()-this._lastScanTimestamp,b=1e3/this._maxScansPerSecond;a<b&&await new Promise((e=>setTimeout(e,b-a))),this._lastScanTimestamp=Date.now();try{var e=await r.scanImage(this.$video,{scanRegion:this._scanRegion,qrEngine:this._qrEnginePromise,canvas:this.$canvas})}catch(e){if(!this._active)return;this._onDecodeError(e)}!r._disableBarcodeDetector||await this._qrEnginePromise instanceof Worker||(this._qrEnginePromise=r.createQrEngine()),e?(this._onDecode?this._onDecode(e):this._legacyOnDecode&&this._legacyOnDecode(e.data),this.$codeOutlineHighlight&&(clearTimeout(this._codeOutlineHighlightRemovalTimeout),this._codeOutlineHighlightRemovalTimeout=void 0,this.$codeOutlineHighlight.setAttribute("viewBox",`${this._scanRegion.x||0} ${this._scanRegion.y||0} ${this._scanRegion.width||this.$video.videoWidth} ${this._scanRegion.height||this.$video.videoHeight}`),this.$codeOutlineHighlight.firstElementChild.setAttribute("points",e.cornerPoints.map((({x:e,y:t})=>`${e},${t}`)).join(" ")),this.$codeOutlineHighlight.style.display="")):this.$codeOutlineHighlight&&!this._codeOutlineHighlightRemovalTimeout&&(this._codeOutlineHighlightRemovalTimeout=setTimeout((()=>this.$codeOutlineHighlight.style.display="none"),100))}this._scanFrame()}))}_onDecodeError(a){a!==r.NO_QR_CODE_FOUND&&console.log(a)}async _getCameraStream(){if(!navigator.mediaDevices)throw"Camera not found.";let a=/^(environment|user)$/.test(this._preferredCamera)?"facingMode":"deviceId",b=[{width:{min:1024}},{width:{min:768}},{}],e=b.map((e=>Object.assign({},e,{[a]:{exact:this._preferredCamera}})));for(let t of[...e,...b])try{let e=await navigator.mediaDevices.getUserMedia({video:t,audio:!1});return{stream:e,facingMode:this._getFacingMode(e)||(t.facingMode?this._preferredCamera:"environment"===this._preferredCamera?"user":"environment")}}catch(e){}throw"Camera not found."}async _restartVideoStream(){let a=this._paused;await this.pause(!0)&&!a&&this._active&&await this.start()}static _stopVideoStream(a){for(let b of a.getTracks())b.stop(),a.removeTrack(b)}_setVideoMirror(a){this.$video.style.transform="scaleX("+("user"===a?-1:1)+")"}_getFacingMode(a){return(a=a.getVideoTracks()[0])?/rear|back|environment/i.test(a.label)?"environment":/front|user|face/i.test(a.label)?"user":null:null}static _drawToCanvas(a,b,e,t=!1){e=e||document.createElement("canvas");let n=b&&b.x?b.x:0,r=b&&b.y?b.y:0,o=b&&b.width?b.width:a.videoWidth||a.width,c=b&&b.height?b.height:a.videoHeight||a.height;return t||(t=b&&b.downScaledWidth?b.downScaledWidth:o,b=b&&b.downScaledHeight?b.downScaledHeight:c,e.width!==t&&(e.width=t),e.height!==b&&(e.height=b)),(b=e.getContext("2d",{alpha:!1})).imageSmoothingEnabled=!1,b.drawImage(a,n,r,o,c,0,0,e.width,e.height),[e,b]}static async _loadImage(a){if(a instanceof Image)return await r._awaitImageLoad(a),a;if(a instanceof HTMLVideoElement||a instanceof HTMLCanvasElement||a instanceof SVGImageElement||"OffscreenCanvas"in window&&a instanceof OffscreenCanvas||"ImageBitmap"in window&&a instanceof ImageBitmap)return a;if(!(a instanceof File||a instanceof Blob||a instanceof URL||"string"==typeof a))throw"Unsupported image type.";{let b=new Image;b.src=a instanceof File||a instanceof Blob?URL.createObjectURL(a):a.toString();try{return await r._awaitImageLoad(b),b}finally{(a instanceof File||a instanceof Blob)&&URL.revokeObjectURL(b.src)}}}static async _awaitImageLoad(a){a.complete&&0!==a.naturalWidth||await new Promise(((b,e)=>{let t=n=>{a.removeEventListener("load",t),a.removeEventListener("error",t),n instanceof ErrorEvent?e("Image load error"):b()};a.addEventListener("load",t),a.addEventListener("error",t)}))}static async _postWorkerMessage(a,b,e,t){return r._postWorkerMessageSync(await a,b,e,t)}static _postWorkerMessageSync(a,b,e,t){if(!(a instanceof Worker))return-1;let n=r._workerMessageId++;return a.postMessage({id:n,type:b,data:e},t),n}}r.DEFAULT_CANVAS_SIZE=400,r.NO_QR_CODE_FOUND="No QR code found",r._disableBarcodeDetector=!1,r._workerMessageId=0,t.a=r}}]);