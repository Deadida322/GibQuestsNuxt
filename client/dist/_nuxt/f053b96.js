(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{477:function(t,e,n){var content=n(505);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(22).default)("1a289329",content,!0,{sourceMap:!1})},504:function(t,e,n){"use strict";n(477)},505:function(t,e,n){var r=n(21)(!1);r.push([t.i,".plus[data-v-5533fdae]{width:100%;min-height:200px;margin-bottom:2%;background-color:rgba(97,97,97,.049);background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg'%3E%3Crect width='100%25' height='100%25' fill='none' stroke='%23A5A5A5FF' stroke-width='2' stroke-dasharray='6, 14' stroke-dashoffset='3' stroke-linecap='square'/%3E%3C/svg%3E\")}.plus[data-v-5533fdae]:hover{background-color:rgba(97,97,97,.069);cursor:pointer}.plus:hover .plus__btn[data-v-5533fdae]{transform:scale(1.2)}",""]),t.exports=r},506:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(73);n(178);function o(t,e){var n=e.removedIndex,o=e.addedIndex,c=e.payload;if(null===n&&null===o)return t;var l=Object(r.a)(t),d=c;return null!==n&&(d=l.splice(n,1)[0]),null!==o&&l.splice(o,0,d),l}},509:function(t,e,n){"use strict";n(504);var r=n(40),o=n(44),c=n.n(o),l=n(219),d=n(201),v=n(447),component=Object(r.a)({},(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",t._g({staticClass:"plus d-flex justify-center align-center"},t.$listeners),[n("v-menu",{attrs:{bottom:"","offset-x":"",transition:"slide-y-transition"},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;e.attrs;return[n("v-btn",t._g(t._b({staticClass:"plus__btn",attrs:{color:"success lighten-2",small:"",nuxt:"",fab:""}},"v-btn",t.$attrs,!1),r),[n("v-icon",[t._v("\n                    mdi-plus\n                ")])],1)]}}])},[t._v(" "),t._t("default")],2)],1)}),[],!1,null,"5533fdae",null);e.a=component.exports;c()(component,{VBtn:l.a,VIcon:d.a,VMenu:v.a})},537:function(t,e,n){var content=n(594);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(22).default)("e81f7930",content,!0,{sourceMap:!1})},593:function(t,e,n){"use strict";n(537)},594:function(t,e,n){var r=n(21)(!1);r.push([t.i,".draggable-item{padding:10px!important}.draggable-item .v-input{margin-left:0;max-width:80%}",""]),t.exports=r},633:function(t,e,n){"use strict";n.r(e);n(13),n(10),n(12),n(4),n(14),n(11),n(15);var r=n(2),o=(n(24),n(140)),c=(n(178),n(47),n(36),n(51),n(46),n(63),n(67),n(57),n(517)),l=n(506),d=n(509);function v(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return f(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,l=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return c=t.done,t},e:function(t){l=!0,o=t},f:function(){try{c||null==n.return||n.return()}finally{if(l)throw o}}}}function f(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}var h={components:{Container:c.a,Draggable:c.b,Add:d.a},props:{quests:Array},data:function(){return{types:["Множественный выбор","Выбор","Вписать ответ","Расположить по порядку"],typeRules:[function(t){return(t||"").length>0||"This field is required"}],questions:[],currentDrag:0,tt:0}},beforeMount:function(){this.questions=JSON.parse(JSON.stringify(this.quests))},methods:{handleTestChange:function(){this.$emit("testChange",this.questions)},addAnswer:function(i){this.questions[i].answers.push("Ёлки иголки")},removeAnswer:function(i,t){this.questions[i].answers.splice(t,1)},onDrop:function(t){var i=t.index;this.questions[i].answers=Object(l.a)(this.questions[i].answers,t),this.questions[i].rightAnswer=this.questions[i].answers,console.log(this.questions[i])},setCurrentDrag:function(t){console.log(t),this.currentDrag=t,this.questions[t].rightAnswer=this.questions[t].answers},addQuestion:function(t){this.questions.push({number:this.questions.length?this.questions.length:0,contain:"При чём здесь ёжики?",answers:["Смешарики","Лошарики","Кикорики"],type:t,rightAnswer:["Смешарики"]})},removeQuestion:function(i){this.questions.splice(i,1)}},watch:{questions:{handler:function(){var t,e=v(this.questions);try{for(e.s();!(t=e.n()).done;){var n=t.value;"Расположить по порядку"==n.type&&(n.answers=n.rightAnswer)}}catch(t){e.e(t)}finally{e.f()}this.$emit("testChange",this.questions)},deep:!0}}},m=(n(593),n(40)),w=n(44),_=n.n(w),y=n(219),k=n(466),C=n(464),x=n(642),A=n(446),O=n(201),j=n(202),V=n(135),$=n(206),S=n(62),T=n(628),D=n(635),I=n(457),E=n(624),component=Object(m.a)(h,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{staticClass:"pa-0",on:{click:t.handleTestChange}},[t._l(t.questions,(function(e,r){return n("v-card",{key:r,staticClass:"mt-3 mb-6",attrs:{shaped:""}},[n("v-card-title",{staticClass:"d-flex justify-space-between"},[t._v("\n            Вопрос "+t._s(r+1)+" \n            "),n("v-icon",{attrs:{color:"red"},on:{click:function(e){return t.removeQuestion(r)}}},[t._v("mdi-close")])],1),t._v(" "),n("v-card-text",[n("v-text-field",{attrs:{label:"Cодержание вопроса",hint:"Содержание вопроса",clearable:"",solo:"",filled:"",dense:"",required:""},model:{value:e.contain,callback:function(n){t.$set(e,"contain",n)},expression:"item.contain"}}),t._v(" "),n("v-select",{attrs:{items:t.types,label:"Тип вопроса",required:""},model:{value:e.type,callback:function(n){t.$set(e,"type",n)},expression:"item.type"}}),t._v(" "),n("v-card-subtitle",[t._v("\n                Варианты ответа\n            ")]),t._v(" "),n("v-divider",{staticClass:"mb-3",attrs:{dark:""}}),t._v(" "),"Выбор"==e.type||"Множественный выбор"==e.type?n("div",{staticClass:"selections"},[t._l(e.answers,(function(o,c){return n("v-row",{key:c},[n("v-text-field",{staticClass:"ml-3",attrs:{clearable:"",solo:"",hint:"Вариант "+(c+1),label:"Вариант "+(c+1)},model:{value:e.answers[c],callback:function(n){t.$set(e.answers,c,n)},expression:"item.answers[j]"}}),t._v(" "),n("v-btn",{staticClass:"ma-2",attrs:{fab:"",dark:"","x-small":"",color:"red"},on:{click:function(e){return t.removeAnswer(r,c)}}},[n("v-icon",{attrs:{dark:""}},[t._v("\n                            mdi-minus\n                        ")])],1)],1)})),t._v(" "),n("v-row",[n("v-spacer"),t._v(" "),n("v-btn",{staticClass:"mb-4",attrs:{fab:"",dark:"",small:"",color:"success"},on:{click:function(e){return t.addAnswer(r)}}},[n("v-icon",{attrs:{dark:""}},[t._v("\n                            mdi-plus\n                        ")])],1),t._v(" "),n("v-spacer")],1),t._v(" "),"Множественный выбор"===e.type?n("v-select",{attrs:{items:e.answers,label:"Верный ответ",color:"success",outlined:"",multiple:""},model:{value:e.rightAnswer,callback:function(n){t.$set(e,"rightAnswer",n)},expression:"item.rightAnswer"}}):n("v-select",{attrs:{items:e.answers,label:"Верный ответ",color:"success",outlined:""},model:{value:e.rightAnswer[0],callback:function(n){t.$set(e.rightAnswer,0,n)},expression:"item.rightAnswer[0]"}})],2):t._e(),t._v(" "),"Вписать ответ"==e.type?n("div",{staticClass:"selections"},[n("v-text-field",{attrs:{items:e.answers,label:"Верный ответ",color:"success",outlined:""},model:{value:e.rightAnswer[0],callback:function(n){t.$set(e.rightAnswer,0,n)},expression:"item.rightAnswer[0]"}})],1):t._e(),t._v(" "),"Расположить по порядку"==e.type?n("div",{staticClass:"selections",on:{click:function(e){return t.setCurrentDrag(r)}}},[n("Container",{attrs:{orientation:"vertical"},on:{drop:function(e){return t.onDrop(Object.assign({},{index:r},e))}}},t._l(e.answers,(function(o,c){return n("Draggable",{key:c},[n("div",{staticClass:"draggable-item"},[n("v-row",[n("v-text-field",{staticClass:"ml-1",attrs:{clearable:"",solo:"",hint:"Вариант "+(c+1),label:"Вариант "+(c+1)},model:{value:e.answers[c],callback:function(n){t.$set(e.answers,c,n)},expression:"item.answers[j]"}}),t._v(" "),n("v-btn",{staticClass:"my-2 ml-2  curp",attrs:{fab:"",dark:"","x-small":"",elevation:"2",color:"red"},on:{click:function(e){return t.removeAnswer(r,c)}}},[n("v-icon",{attrs:{"x-small":"",dark:""}},[t._v("\n                                    mdi-minus\n                                ")])],1)],1)],1)])})),1),t._v(" "),n("v-row",[n("v-spacer"),t._v(" "),n("v-btn",{staticClass:"mb-4",attrs:{fab:"",dark:"",small:"",color:"success"},on:{click:function(e){return t.addAnswer(r)}}},[n("v-icon",{attrs:{dark:""}},[t._v("\n                            mdi-plus\n                        ")])],1),t._v(" "),n("v-spacer")],1)],1):t._e()],1)],1)})),t._v(" "),n("Add",{staticClass:"mt-4"},[n("v-list",[n("v-list-item-group",t._l(t.types,(function(e,r){return n("v-list-item",{key:r,attrs:{color:"primary"},on:{click:function(n){return t.addQuestion(e)}}},[n("v-list-item-title",[t._v(t._s(e))])],1)})),1)],1)],1)],2)}),[],!1,null,null,null),M=component.exports;function P(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function Q(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?P(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):P(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}_()(component,{VBtn:y.a,VCard:k.a,VCardSubtitle:C.b,VCardText:C.c,VCardTitle:C.d,VContainer:x.a,VDivider:A.a,VIcon:O.a,VList:j.a,VListItem:V.a,VListItemGroup:$.a,VListItemTitle:S.b,VRow:T.a,VSelect:D.a,VSpacer:I.a,VTextField:E.a});var J={components:{Header:o.a,QuestionCreate:M},created:function(){this.id=this.$route.params.id,this.stage.questions=[],this.quest=Q({},this.$store.getters["create/getCurrentQuest"]),this.stage=Q({},this.$store.getters["create/getCurrentStage"]),this.stage.stageTest&&this.stage.stageTest.questions&&(this.stage.questions=this.stage.stageTest.questions),this.stage.test&&this.stage.test.questions&&(this.stage.questions=this.stage.test.questions),console.log(this.stage),this.stage&&"Тест"!=this.stage.type&&this.$router.go(-1)},data:function(){return{id:0,quest:{},stage:{},currentTest:[],snackbar:!1}},methods:{setStage:function(){this.stage.questions=this.current,this.stage.test={title:"зачем-то",questions:[]},this.stage.test.questions=this.currentTest,this.quest.stages[this.id]=this.stage,this.$store.commit("create/setCurrentQuest",this.quest),this.snackbar=!0},testChange:function(t){this.currentTest=t}}},L=n(513),B=n(516),F=Object(m.a)(J,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("Header",{attrs:{title:"Создать тест"}}),t._v(" "),n("v-main",{staticClass:"pa-2 mt-4"},[n("div",{staticClass:"mb-4",on:{click:function(e){return t.$router.go(-1)}}},[n("v-icon",{attrs:{large:""}},[t._v("\n                mdi-arrow-left\n            ")])],1),t._v(" "),n("QuestionCreate",{attrs:{quests:t.stage.questions},on:{testChange:t.testChange}})],1),t._v(" "),n("v-card-actions",{staticClass:"pa-0 mt-4"},[n("v-spacer"),t._v(" "),n("v-btn",{attrs:{text:""},on:{click:function(e){return t.$router.go(-1)}}},[t._v("Назад")]),t._v(" "),n("v-btn",{attrs:{color:"primary"},on:{click:t.setStage}},[t._v("Сохранить")])],1),t._v(" "),n("v-snackbar",{scopedSlots:t._u([{key:"action",fn:function(e){e.attrs;return[n("v-btn",{staticClass:"primary--text",attrs:{text:"",small:""},on:{click:function(e){t.snackbar=!t.snackbar}}},[t._v("\n                Закрыть\n            ")])]}}]),model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n        Изменения сохранены\n        ")])],1)}),[],!1,null,null,null);e.default=F.exports;_()(F,{VBtn:y.a,VCardActions:C.a,VIcon:O.a,VMain:L.a,VSnackbar:B.a,VSpacer:I.a})}}]);